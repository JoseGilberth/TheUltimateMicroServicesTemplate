<nav #navbar class="navbar navbar-expand-lg navbar-transparent  navbar-relative">

    <div class="container-fluid">

        <!-- SELECCION DE EMPRESA -->
        <div class="navbar-wrapper">
            <!-- ICONO HAMBURGUESA -->
            <div class="navbar-minimize">
                <button mat-raised-button (click)="minimizeSidebar()"
                    class="btn btn-just-icon btn-white btn-fab btn-round">
                    <i class="material-icons text_align-center visible-on-sidebar-regular">more_vert</i>
                    <i class="material-icons design_bullet-list-67 visible-on-sidebar-mini">view_list</i>
                </button>
            </div>
            <!-- TITULO -->
            <!--a class="navbar-brand" href="{{getPath()}}"> {{getTitle()}}</a-->
        </div>


        <!-- TOOTLGLE NAVIGATION -->
        <button mat-button class="navbar-toggler btn-no-ripple" type="button" (click)="sidebarToggle()">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
        </button>

        <!-- SELECCIONAR EMPRESA -->
        <button mat-raised-button href="#" (click)="seleccionarEmpresa()"
            class="btn btn-salud-fiscal btn-transparente">{{ utilComponent.empresaSeleccionada }}
            <b class="caret"></b>
        </button>

        <!-- SELECCIONAR SISTEMA ERP -->
        <button mat-raised-button href="#" (click)="seleccionarSistemaERP()"
            class="btn btn-salud-fiscal btn-transparente">{{ utilComponent.sysERPSeleccionado }}
            <b class="caret"></b>
        </button>

        <!-- SEGUNDA PARTE LADO DERECHO FINAL -->
        <div class="collapse navbar-collapse justify-content-end" id="navigation">

            <!-- BUSQUEDA -->
            <form class="navbar-form">
                <div class="input-group no-border">
                    <input type="text" value="" class="form-control" placeholder="Buscar...">
                    <button mat-raised-button type="submit" class="btn btn-white btn-round btn-just-icon">
                        <i class="material-icons">search</i>
                        <div class="ripple-container"></div>
                    </button>
                </div>
            </form>

            <ul class="navbar-nav">

                <!-- ALERTAS -->
                <li class="nav-item dropdown">
                    <a class="nav-link" href="#pablo" id="navbarDropdownMenuLink" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        <i class="material-icons">notifications</i>
                        <span
                            class="notification">{{listaNotificaciones[0].total>9?'9+':listaNotificaciones[0].total}}</span>
                        <p>
                            <span class="d-lg-none d-md-block">Alertas</span>
                        </p>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" style="min-width: 400px !important;"
                        aria-labelledby="navbarDropdownMenuLink">

                        <mat-grid-list cols="1" class="dropdown-item" style="background-color:'{{notificacion.color}}';"
                            rowHeight="8:1" *ngFor="let notificacion of listaNotificaciones">
                            <mat-grid-tile>
                                <div class="row" style="width: 100%">
                                    <div class="col-9 text-left">
                                        {{notificacion.titulo}}
                                    </div>
                                    <div class="col-3 text-left">
                                        {{notificacion.fecha}}
                                    </div>
                                </div>
                            </mat-grid-tile>
                            <mat-grid-tile>
                                <div class="row" style="width: 100%">
                                    <div class="col-12 text-left" style="text-overflow: ellipsis !important;">
                                        {{notificacion.contenido}}
                                    </div>
                                </div>
                            </mat-grid-tile>
                        </mat-grid-list>
                        <div class="dropdown-item" *ngIf="listaNotificaciones[0].total > 5">
                            <div class="row" style="width: 100%">
                                <div class="col-12 text-center">
                                    <a class="nav-link" routerLink="/notificaciones">Mostrar Más ... </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>


                <!-- CONFIGURACION DE EMPRESAS -->
                <li class="nav-item"
                    *ngIf="utilComponent.hasPermiso('Application/SF:SaludFiscal:Web:Principal:Empresas:Modulo')">
                    <a class="nav-link" routerLink="/empresas">
                        <i class="material-icons">card_travel</i>
                        <p>
                            <span class="d-lg-none d-md-block">Empresas</span>
                        </p>
                    </a>
                </li>


                <!-- CONFIGURACION DE CONTRATOS -->
                <li class="nav-item"
                    *ngIf="utilComponent.hasPermiso('Application/SF:SaludFiscal:Web:Principal:Contratos:Modulo')">
                    <a class="nav-link" routerLink="/contratos">
                        <i class="material-icons">description</i>
                        <p>
                            <span class="d-lg-none d-md-block">Contratos</span>
                        </p>
                    </a>
                </li>

                <!-- CONFIGURACION DE USUARIOS -->
                <li class="nav-item"
                    *ngIf="utilComponent.hasPermiso('Application/SF:SaludFiscal:Web:Principal:Usuarios:Modulo')">
                    <a class="nav-link" routerLink="/usuarios">
                        <i class="material-icons">supervisor_account</i>
                        <p>
                            <span class="d-lg-none d-md-block">Usuarios</span>
                        </p>
                    </a>
                </li>

                <!-- CONFIGURACION DE PERFILES -->
                <li class="nav-item"
                    *ngIf="utilComponent.hasPermiso('Application/SF:SaludFiscal:Web:Principal:Perfiles:Modulo')">
                    <a class="nav-link" routerLink="/perfiles">
                        <i class="material-icons">security</i>
                        <p>
                            <span class="d-lg-none d-md-block">Perfiles</span>
                        </p>
                    </a>
                </li>

                <!-- IDIOMA -->
                <li class="nav-item dropdown">
                    <a class="nav-link" href="#pablo" id="navbarDropdownMenuLink" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        <i class="fa fa-language"></i>
                        <p>
                            <span class="d-lg-none d-md-block">Idioma</span>
                        </p>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" (click)="cambiaIdioma('es')" href="#"><img alt=""
                                src="./../../../../assets/img/flags/MX.png">&nbsp;&nbsp; Español</a>
                        <a class="dropdown-item" (click)="cambiaIdioma('en')" href="#"><img alt=""
                                src="./../../../../assets/img/flags/US.png">&nbsp;&nbsp; Ingles</a>
                    </div>
                </li>

                <!-- CUENTA! -->
                <li class="nav-item dropdown">
                    <a class="nav-link" href="#pablo" id="navbarDropdownMenuLink" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        <i class="material-icons">account_circle</i>
                        <p>
                            <span class="d-lg-none d-md-block">Cuenta</span>
                        </p>
                    </a>

                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                        <button mat-raised-button class="dropdown-item btn btn-sf btn-salud-fiscal"
                            (click)="cerrarSesion()">Cerrar
                            sesión</button>
                    </div>
                </li>

            </ul>
        </div>
    </div>
</nav>

<!-- TITULO PRINCIPAL -->
<nav class="navbar navbar-expand-lg navbar-white navbar-relative" style="margin: 20px 30px 0px 30px">
    <div class="container-fluid">
        <!-- TITULO -->
        <div class="navbar-wrapper">
            <a class="navbar-brand" href="{{getPath()}}">{{ getTitle() }} </a>
        </div>
        <!-- BREADCRUM -->
        <div class="collapse navbar-collapse justify-content-end" id="navigation">
            <!-- INICIO -->
            <a *ngIf="router.url != '/'" routerLink="/" class="breadcrumb-item" fxLayout="row"
                fxLayoutAlign="start center">
                <span class="breadcrumb-title">Inicio</span>
            </a>
            <!-- SUMMENUS -->
            <div *ngFor="let breadcrumb of breadcrumbs; let i = index;" class="breadcrumb-item" fxLayout="row"
                fxLayoutAlign="start center">
                <a [hidden]="i == (breadcrumbs.length - 1)" [routerLink]="[breadcrumb.url]">{{breadcrumb.name}}</a>
                <span [hidden]="i != (breadcrumbs.length - 1)"
                    class="breadcrumb-title active">{{breadcrumb.name}}</span>
            </div>
        </div>
    </div>
</nav>